{
    "self": "https://api.tracker.yandex.net/v3/issues/CPO-5730",
    "id": "676ba5b35718d41fad3956b2",
    "key": "CPO-5730",
    "version": 22,
    "statusStartTime": "2025-10-20T08:54:11.008+0000",
    "statusType": {
      "id": "inProgress",
      "display": "В процессе",
      "key": "inProgress"
    },
    "project": {
      "primary": {
        "self": "https://api.tracker.yandex.net/v3/projects/21538",
        "id": "21538",
        "display": "Ассистент покупателя"
      },
      "secondary": []
    },
    "description": "1\\. **Название** - Ситуативный поиск через ЛЛМ\n\n2\\. **Решаемая боль** - Устраняет фрустрацию, связанную с долгим, неудобным и негибким процессом выбора товаров. Он превращает поиск в интуитивный, быстрый и ориентированный на решение реальных потребностей процесс, экономя время и силы пользователя.\n\n3\\. **Описание** - вы заходите на сайт ВкусВилл и вместо долгого поиска по категориям просто пишете в строке “ингредиенты для пиццы” или “еда для пикника”. За несколько секунд умный поиск собирает всё необходимое: от теста и сыра до напитков и закусок, показывая товары из разных категорий в одной удобной выдаче. Всё, что вам остаётся – добавить в корзину и наслаждаться готовым решением для вашей ситуации.\n\n**Примеры пользовательских сценариев**\n\n1. Легкий ужин после работы:\n   Пользователь вводит запрос “что приготовить на ужин после работы” и ожидает увидеть готовые блюда и продукты для быстрого приготовления. В группе Б умный поиск показывает набор товаров (салаты, полуфабрикаты, соусы), а в группе А классический поиск возвращает результаты по ключевым словам.\n\n2. Ингредиенты для пиццы:\n   Пользователь ищет “ингредиенты для пиццы”. В группе Б умный поиск показывает тесто, сыры, соусы и овощи из разных категорий в одной выдаче. В группе А классический поиск предлагает только товары из одной категории или показывает менее релевантные результаты.\n\n3. Еда для поездки на дачу:\n   Пользователь вводит запрос “еда для поездки на дачу”. В группе Б умный поиск предлагает снеки, напитки, готовые блюда и консервы, а в группе А пользователь видит только результаты по ключевому слову “еда” или сталкивается с неструктурированной выдачей.\n\n4\\. **Бизнес-требования** - Функциональные требования\n\n1. Ситуационные запросы\n   Пользователь может вводить запросы, описывающие жизненные ситуации, например, “еда для пикника” или “ужин после работы”. Система должна понимать контекст и предлагать товары, подходящие для этой ситуации.\n\n2. Декомпозиция запросов\n   Система должна преобразовывать сложные пользовательские запросы с помощью ЛЛМ в 5 подзапросов, которые передаются классическому поиску для получения наиболее релевантных результатов.\n\n3. Сбор результатов из разных категорий\n   Умный поиск должен показывать товары из нескольких категорий (например, соусы, овощи, напитки) в одной выдаче, чтобы полностью закрыть потребности пользователя.\n\n4. Ранжирование результатов\n   Выдача должна отображать товары в порядке их соответствия запросу, чтобы пользователь сразу видел самые подходящие позиции.\n\n5. Динамические подсказки\n   При вводе текста в поисковую строку пользователю должны предлагаться релевантные подсказки, чтобы ускорить формирование запроса.\n\n6. Классификатор запросов\n\n   1. Система должна анализировать входящий запрос и определять, к какому классу он относится:\n\n   2. Простой запрос: запрос на конкретный товар (например, “хлеб”, “молоко”, “колбаса”).\n\n   3. Сложный запрос: запрос, связанный с ситуацией или не подразумевающий поиск конкретного товара (например, “продукты для завтрака”, “ингредиенты для оливье”).\n\n   4. Для простых запросов вызывается классический поиск, который работает с конкретной категорией или ключевым словом.\n\n   5. Для сложных запросов вызывается умный поиск, который генерирует релевантную выдачу на основе декомпозиции и анализа контекста.\n\n**Нефункциональные требования**\n\n1. Скорость обработки\n\n   * До 500–600 мс в 50-м перцентиле.\n\n   * До 1000 мс в 90-м перцентиле.\n\n2. Масштабируемость\n   Система должна поддерживать стабильную работу при пиковой нагрузке до 25 RPS (запросов в секунду), включая маршрутизацию запросов через классификатор.\n\n3. Интеграция с текущими системами\n   Классификатор запросов и умный поиск должны быть интегрированы с классическим поиском и базой данных товаров.\n\n4. Обработка естественного языка\n   Классификатор запросов должен корректно понимать русский язык, включая синонимы, опечатки и разговорные фразы, чтобы правильно определять тип запроса.\n\n5. Fallback-решение\n   Если классификатор или умный поиск не могут обработать запрос, система должна переключаться на стандартный поиск с базовым функционалом.\n\n5\\. Описание логирования в бизнес-терминах\n\nЭкраны и блоки для логирования\n\n* Главная страница:\n  Взаимодействия с поисковой строкой (ввод, выбор подсказок, поиск).\n\n* Экран поиска:\n  Просмотр выдачи, клики по товарам, уточнение запросов, добавления товаров в корзину.\n\n* Карточка товара:\n  Переходы в карточку, добавления товаров в корзину.\n\n* Корзина:\n  Добавления товаров из поиска, завершение покупки.\n\nДействия и основные метрики\n\n* **Целевые метрики:**\n  ARPU: Средняя выручка и маржа на пользователя.\n  Количество добавлений товаров на пользователя.\n\n* **Информационные метрики:**\n  Доля пользователей, воспользовавшихся умным поиском.\n  Доля запросов с добавлением товаров и завершением покупки.\n  Средняя позиция клика.\n  Частотность запросов и время до следующего.\n\n* **Защитные метрики:**\n  Конверсии выдачи (доля кликов и добавлений товаров).\n  Доля успешных запросов для простых и сложных случаев.\n  Качество выдачи: доля найденных товаров по запросу.\n\n6\\. **Нерешенные вопросы и риски** - основной риск это работа системы под нагрузкой. Сейчас проводится тесты и доработки связанные с латенси и РПС. \n\nпроектирования, “вопросы от продакта”. Это не конечный список рисков, это что продуктовая команда смогла увидеть на момент описания.\n\n7\\. **Вариант раскатки** - A/B тест\n\n8\\. **Доля пользователей фичи** - 50% пользователей поиска на сайте \n\n9\\. **Дизайн** - ссылка на макет в Фигма\n\n10\\. **Ожидаемые сроки реализации** - запуск в феврале, тест в течении 4 недель. \n\n11\\. **Доп информация** - Расширенная версия описания умного поиска по [ссылке](https://docs.google.com/document/d/18ourlqQHOJvrglqld36sYZ2GOgIgIcJ54Hv6M9A4r7c/edit?usp=sharing)",
    "boards": [
      {
        "id": 84,
        "name": "Продуктовая команда Поиска"
      },
      {
        "id": 340,
        "name": "Discovery МП"
      },
      {
        "id": 4249,
        "name": "Доска проекта Ассистент покупателя"
      }
    ],
    "type": {
      "self": "https://api.tracker.yandex.net/v3/issuetypes/25",
      "id": "25",
      "key": "hypothesis",
      "display": "HYPOTHESIS"
    },
    "previousStatusLastAssignee": {
      "self": "https://api.tracker.yandex.net/v3/users/8000000000001144",
      "id": "8000000000001144",
      "display": "Кирилл Александрович Попов",
      "cloudUid": "ajea4ltlbld92jb48qnr",
      "passportUid": 1130000066476361
    },
    "createdAt": "2024-12-25T06:26:59.648+0000",
    "commentWithExternalMessageCount": 0,
    "updatedAt": "2025-10-20T08:54:11.008+0000",
    "lastCommentUpdatedAt": "2025-02-27T13:41:08.729+0000",
    "summary": "Тест ситуационного поиска на сайте",
    "updatedBy": {
      "self": "https://api.tracker.yandex.net/v3/users/8000000000004178",
      "id": "8000000000004178",
      "display": "Кирилл Белицкий",
      "cloudUid": "ajelij3bi2kcl8h1n90j",
      "passportUid": 1130000062824883
    },
    "start": "2024-12-25",
    "priority": {
      "self": "https://api.tracker.yandex.net/v3/priorities/3",
      "id": "3",
      "key": "normal",
      "display": "Средний"
    },
    "63515d47fe387b7ce7b9fc55--team": "Green Team",
    "followers": [
      {
        "self": "https://api.tracker.yandex.net/v3/users/8000000000001144",
        "id": "8000000000001144",
        "display": "Кирилл Александрович Попов",
        "cloudUid": "ajea4ltlbld92jb48qnr",
        "passportUid": 1130000066476361
      },
      {
        "self": "https://api.tracker.yandex.net/v3/users/1130000062253156",
        "id": "1130000062253156",
        "display": "Александра Прощаева",
        "cloudUid": "ajeb2n6gbsrmbvu751h4",
        "passportUid": 1130000062253156
      }
    ],
    "createdBy": {
      "self": "https://api.tracker.yandex.net/v3/users/9000000000112307",
      "id": "9000000000112307",
      "display": "Наталья Петрыкина",
      "cloudUid": "ajebjoi950e0vabpsckm",
      "passportUid": 9000000000112307
    },
    "commentWithoutExternalMessageCount": 3,
    "votes": 0,
    "assignee": {
      "self": "https://api.tracker.yandex.net/v3/users/8000000000001144",
      "id": "8000000000001144",
      "display": "Кирилл Александрович Попов",
      "cloudUid": "ajea4ltlbld92jb48qnr",
      "passportUid": 1130000066476361
    },
    "queue": {
      "self": "https://api.tracker.yandex.net/v3/queues/CPO",
      "id": "17",
      "key": "CPO",
      "display": "Клиентские пути. Discovery"
    },
    "status": {
      "self": "https://api.tracker.yandex.net/v3/statuses/6",
      "id": "6",
      "key": "inReview",
      "display": "Ревью"
    },
    "previousStatus": {
      "self": "https://api.tracker.yandex.net/v3/statuses/3",
      "id": "3",
      "key": "inProgress",
      "display": "В работе"
    },
    "links": [
      {
        "self": "https://api.tracker.yandex.net/v3/issues/CPO-5730/links/203993",
        "id": "203993",
        "type": {
          "self": "https://api.tracker.yandex.net/v3/linktypes/relates",
          "id": "relates",
          "inward": "Связана",
          "outward": "Связана"
        },
        "direction": "inward",
        "object": {
          "self": "https://api.tracker.yandex.net/v3/issues/WEBSITE-7350",
          "id": "67870db484f4fc5c5afa6632",
          "key": "WEBSITE-7350",
          "display": "А/Б-тест. Умный поиск"
        },
        "display": "676ba5b35718d41fad3956b2 relates 67870db484f4fc5c5afa6632"
      },
      {
        "self": "https://api.tracker.yandex.net/v3/issues/CPO-5730/links/196392",
        "id": "196392",
        "type": {
          "self": "https://api.tracker.yandex.net/v3/linktypes/relates",
          "id": "relates",
          "inward": "Связана",
          "outward": "Связана"
        },
        "direction": "inward",
        "object": {
          "self": "https://api.tracker.yandex.net/v3/issues/INF-678",
          "id": "6787a6d9f296c464bce60172",
          "key": "INF-678",
          "display": "[datalab] network доступ"
        },
        "display": "676ba5b35718d41fad3956b2 relates 6787a6d9f296c464bce60172"
      },
      {
        "self": "https://api.tracker.yandex.net/v3/issues/CPO-5730/links/197898",
        "id": "197898",
        "type": {
          "self": "https://api.tracker.yandex.net/v3/linktypes/relates",
          "id": "relates",
          "inward": "Связана",
          "outward": "Связана"
        },
        "direction": "inward",
        "object": {
          "self": "https://api.tracker.yandex.net/v3/issues/DATALAB-2410",
          "id": "6787a89df296c464bce603d0",
          "key": "DATALAB-2410",
          "display": "Создать ручку умного поиска "
        },
        "display": "676ba5b35718d41fad3956b2 relates 6787a89df296c464bce603d0"
      },
      {
        "self": "https://api.tracker.yandex.net/v3/issues/CPO-5730/links/197888",
        "id": "197888",
        "type": {
          "self": "https://api.tracker.yandex.net/v3/linktypes/relates",
          "id": "relates",
          "inward": "Связана",
          "outward": "Связана"
        },
        "direction": "inward",
        "object": {
          "self": "https://api.tracker.yandex.net/v3/issues/DATALAB-2421",
          "id": "6788fb122985175c40aad3f4",
          "key": "DATALAB-2421",
          "display": "Организация алармов для тестирования"
        },
        "display": "676ba5b35718d41fad3956b2 relates 6788fb122985175c40aad3f4"
      },
      {
        "self": "https://api.tracker.yandex.net/v3/issues/CPO-5730/links/197894",
        "id": "197894",
        "type": {
          "self": "https://api.tracker.yandex.net/v3/linktypes/relates",
          "id": "relates",
          "inward": "Связана",
          "outward": "Связана"
        },
        "direction": "inward",
        "object": {
          "self": "https://api.tracker.yandex.net/v3/issues/DATALAB-2422",
          "id": "6788fb7200c9d7167c7ad23a",
          "key": "DATALAB-2422",
          "display": "Обеспечить логирование времени ответов на уровне АПИ"
        },
        "display": "676ba5b35718d41fad3956b2 relates 6788fb7200c9d7167c7ad23a"
      },
      {
        "self": "https://api.tracker.yandex.net/v3/issues/CPO-5730/links/209884",
        "id": "209884",
        "type": {
          "self": "https://api.tracker.yandex.net/v3/linktypes/relates",
          "id": "relates",
          "inward": "Связана",
          "outward": "Связана"
        },
        "direction": "inward",
        "object": {
          "self": "https://api.tracker.yandex.net/v3/issues/PA-6784",
          "id": "67978c558653521497a0c2c8",
          "key": "PA-6784",
          "display": "Дизайн AB теста: Умный поиск"
        },
        "display": "676ba5b35718d41fad3956b2 relates 67978c558653521497a0c2c8"
      },
      {
        "self": "https://api.tracker.yandex.net/v3/issues/CPO-5730/links/265258",
        "id": "265258",
        "type": {
          "self": "https://api.tracker.yandex.net/v3/linktypes/relates",
          "id": "relates",
          "inward": "Связана",
          "outward": "Связана"
        },
        "direction": "inward",
        "object": {
          "self": "https://api.tracker.yandex.net/v3/issues/CPO-6032",
          "id": "67b6d90a2118de232230ee80",
          "key": "CPO-6032",
          "display": "Кнопка «Хочу есть» — генератор питания на день"
        },
        "display": "676ba5b35718d41fad3956b2 relates 67b6d90a2118de232230ee80"
      },
      {
        "self": "https://api.tracker.yandex.net/v3/issues/CPO-5730/links/351571",
        "id": "351571",
        "type": {
          "self": "https://api.tracker.yandex.net/v3/linktypes/relates",
          "id": "relates",
          "inward": "Связана",
          "outward": "Связана"
        },
        "direction": "inward",
        "object": {
          "self": "https://api.tracker.yandex.net/v3/issues/TRACKERTEAM-4080",
          "id": "683854fdedbfb6102b1b1f24",
          "key": "TRACKERTEAM-4080",
          "display": "[Создание нового процесса]https://tracker.yandex.ru/CPO-5730"
        },
        "display": "676ba5b35718d41fad3956b2 relates 683854fdedbfb6102b1b1f24"
      },
      {
        "self": "https://api.tracker.yandex.net/v3/issues/CPO-5730/links/460961",
        "id": "460961",
        "type": {
          "self": "https://api.tracker.yandex.net/v3/linktypes/relates",
          "id": "relates",
          "inward": "Связана",
          "outward": "Связана"
        },
        "direction": "inward",
        "object": {
          "self": "https://api.tracker.yandex.net/v3/issues/CPO-7060",
          "id": "68b5a31eb911c348d6d66b4b",
          "key": "CPO-7060",
          "display": "Умный поиск 2.0"
        },
        "display": "676ba5b35718d41fad3956b2 relates 68b5a31eb911c348d6d66b4b"
      }
    ],
    "favorite": false
  }
