# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –æ—Ç—á—ë—Ç–∞ –æ —Å—Ç–∞—Ç—É—Å–∞—Ö CPO –∑–∞–¥–∞—á

## –û–ø–∏—Å–∞–Ω–∏–µ

–ö–æ–º–∞–Ω–¥–∞ `generate_status_change_report` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç –æ —Å—Ç–∞—Ç—É—Å–∞—Ö CPO –∑–∞–¥–∞—á –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –Ω–µ–¥–µ–ª–∏. –û—Ç—á—ë—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞–≤—Ç–æ—Ä–æ–≤ –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–¥–∞—á, –∞ —Ç–∞–∫–∂–µ —Ç–µ–∫—É—â–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –∑–∞–¥–∞—á–∏, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–µ –ø–æ –±–ª–æ–∫–∞–º Discovery –∏ Delivery.

## –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç—á—ë—Ç

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
- **–ù–µ–¥–µ–ª—è 1**: –ü–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π (–æ—Ç —Å–µ–≥–æ–¥–Ω—è)
- **–ù–µ–¥–µ–ª—è 2**: –ü—Ä–µ–¥—ã–¥—É—â–∏–µ 7 –¥–Ω–µ–π (7-14 –¥–Ω–µ–π –Ω–∞–∑–∞–¥)
- **–ù–µ–¥–µ–ª—è 3**: –°–∫—Ä—ã—Ç–∞—è –Ω–µ–¥–µ–ª—è (14-21 –¥–µ–Ω—å –Ω–∞–∑–∞–¥) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –¥–∏–Ω–∞–º–∏–∫–∏

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–µ–¥–µ–ª–∏
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á –≤ –æ–¥–Ω–æ–º –ø–æ–ª–µ

### –¢–µ–∫—É—â–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –∑–∞–¥–∞—á–∏
- **Discovery**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á –≤ –±–ª–æ–∫–µ Discovery (–∞–Ω–∞–ª–∏–∑, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ) + –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
- **Delivery**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á –≤ –±–ª–æ–∫–µ Delivery (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ) + –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–∏–Ω–∞–º–∏–∫–∏
- üü¢‚ÜóÔ∏è - –£–ª—É—á—à–µ–Ω–∏–µ (—Ä–æ—Å—Ç –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π)
- üî¥‚ÜòÔ∏è - –°–Ω–∏–∂–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π  
- ‚ö™‚û°Ô∏è - –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –°–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞

### 1. –ß–µ—Ä–µ–∑ Python –º–æ–¥—É–ª—å
```bash
# –ó–∞–ø—É—Å–∫ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
python -m radiator.commands.generate_status_change_report

# –° —É–∫–∞–∑–∞–Ω–∏–µ–º –∏–º—ë–Ω —Ñ–∞–π–ª–æ–≤
python -m radiator.commands.generate_status_change_report --csv my_report.csv --table my_table.png
```

### 2. –ß–µ—Ä–µ–∑ Makefile (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞)
```bash
make generate-status-report
```

### 3. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ –≤ Python –∫–æ–¥–µ
```python
from radiator.commands.generate_status_change_report import GenerateStatusChangeReportCommand

with GenerateStatusChangeReportCommand() as cmd:
    success = cmd.run()
```

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

- `--csv FILENAME` - –ò–º—è CSV —Ñ–∞–π–ª–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `status_change_report_YYYYMMDD_HHMMSS.csv`)
- `--table FILENAME` - –ò–º—è —Ñ–∞–π–ª–∞ —Ç–∞–±–ª–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `status_change_table_YYYYMMDD_HHMMSS.png`)

## –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. CSV –æ—Ç—á—ë—Ç
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: –ü–∞–ø–∫–∞ `reports/`
- **–§–æ—Ä–º–∞—Ç**: CSV —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
  - –ê–≤—Ç–æ—Ä
  - [–î–∞—Ç–∞]_–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–∏–∑–º–µ–Ω–µ–Ω–∏—è + –∑–∞–¥–∞—á–∏ + –¥–∏–Ω–∞–º–∏–∫–∞)
  - Discovery
  - Delivery

### 2. –í–∏–∑—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: –ü–∞–ø–∫–∞ `reports/`
- **–§–æ—Ä–º–∞—Ç**: PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —Ü–≤–µ—Ç–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**: –¢–µ –∂–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ –∏ –≤ CSV, –Ω–æ —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫
```bash
cd /path/to/radiator
python -m radiator.commands.generate_status_change_report
```

### –° —É–∫–∞–∑–∞–Ω–∏–µ–º –∏–º—ë–Ω —Ñ–∞–π–ª–æ–≤
```bash
python -m radiator.commands.generate_status_change_report \
  --csv cpo_report_$(date +%Y%m%d).csv \
  --table cpo_table_$(date +%Y%m%d).png
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ cron
```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤ 9:00
0 9 * * * cd /path/to/radiator && python -m radiator.commands.generate_status_change_report
```

## –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ê–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–æ–≤
- **–í—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ú–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –∑–∞–¥–∞—á
- **–ù–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ú–∞–ª–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –≤–æ–∑–º–æ–∂–Ω–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- **–î–∏–Ω–∞–º–∏–∫–∞**: –°—Ç—Ä–µ–ª–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç—Ä–µ–Ω–¥ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø–µ—Ä–∏–æ–¥–æ–º

### –ê–Ω–∞–ª–∏–∑ –±–ª–æ–∫–æ–≤ –∑–∞–¥–∞—á
- **Discovery > Delivery**: –ü—Ä–µ–æ–±–ª–∞–¥–∞–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞
- **Delivery > Discovery**: –ü—Ä–µ–æ–±–ª–∞–¥–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ**: –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

### –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- –ê–≤—Ç–æ—Ä—ã —Å –Ω—É–ª–µ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é
- –†–µ–∑–∫–∏–µ –ø–∞–¥–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–∫—Ä–∞—Å–Ω—ã–µ —Å—Ç—Ä–µ–ª–∫–∏)
- –ù–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –±–ª–æ–∫–∞–º

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- –î–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å –¥–∞–Ω–Ω—ã–º–∏ Tracker
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `matplotlib`, `pandas`
- –ü–∞–ø–∫–∞ `reports/` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "No data found"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä CPO –∑–∞–¥–∞—á

### –û—à–∏–±–∫–∞ matplotlib
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install matplotlib`
- –î–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤ –±–µ–∑ GUI –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: `export MPLBACKEND=Agg`

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–∫–∞–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç UTF-8

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –º–µ—Ç–æ–¥ `generate_report_data()` –≤ —Ñ–∞–π–ª–µ `radiator/commands/generate_status_change_report.py`:

```python
# –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–µ–¥–µ–ª–∏
week1_start = week1_end - timedelta(days=7)  # 7 –¥–Ω–µ–π
week2_start = week2_end - timedelta(days=7)  # 7 –¥–Ω–µ–π
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –±–ª–æ–∫–æ–≤
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `data/config/status_order.txt` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞–ø–ø–∏–Ω–≥–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –Ω–∞ –±–ª–æ–∫–∏ Discovery/Delivery.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ `reports/`
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º —Å –ª–æ–≥–∞–º–∏ –æ—à–∏–±–æ–∫
