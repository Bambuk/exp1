# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã DevLT –≤ as-of-date –æ—Ç—á–µ—Ç–∞—Ö

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2026-02-06
**–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç—á–µ—Ç—ã:**
- –¢–µ–∫—É—â–∏–π: `new_ttm_details_20260206_120458.csv` (–Ω–∞ 2026-02-06)
- AOD: `new_ttm_details_20260206_120603_aod_20260118.csv` (–Ω–∞ 2026-01-18)
- –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –¥–∞—Ç–∞–º–∏: **19 –¥–Ω–µ–π**

## üî¥ –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–µ "–ì–µ–æ –∏ —Å–µ—Ä–≤–∏—Å—ã"

- –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –≤ –æ–±–æ–∏—Ö –æ—Ç—á–µ—Ç–∞—Ö: **24 –∑–∞–¥–∞—á–∏**
- –ó–∞–¥–∞—á —Å **–û–î–ò–ù–ê–ö–û–í–´–ú** DevLT: **23 –∑–∞–¥–∞—á–∏ (95.8%)**
- –ó–∞–¥–∞—á —Å **–†–ê–ó–ù–´–ú** DevLT: **1 –∑–∞–¥–∞—á–∞ (4.2%)**

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

–î–ª—è –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –º–µ–∂–¥—É –æ—Ç—á–µ—Ç–∞–º–∏ –ø—Ä–æ—à–ª–æ 19 –¥–Ω–µ–π, –ø–æ—ç—Ç–æ–º—É:
- ‚úÖ **TTM** –¥–æ–ª–∂–µ–Ω —É–≤–µ–ª–∏—á–∏—Ç—å—Å—è –Ω–∞ ~19 –¥–Ω–µ–π (—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
- ‚ùå **DevLT** –¥–æ–ª–∂–µ–Ω —É–≤–µ–ª–∏—á–∏—Ç—å—Å—è –Ω–∞ ~19 –¥–Ω–µ–π –¥–ª—è –∑–∞–¥–∞—á —Å –æ—Ç–∫—Ä—ã—Ç—ã–º —Å—Ç–∞—Ç—É—Å–æ–º "–ú–ü / –í —Ä–∞–±–æ—Ç–µ" (–ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç)

### –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –∑–∞–¥–∞—á

| –ö–ª—é—á | DevLT (—Ç–µ–∫—É—â–∏–π) | DevLT (AOD) | TTM (—Ç–µ–∫—É—â–∏–π) | TTM (AOD) | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ |
|------|-----------------|-------------|---------------|-----------|------------|
| CPO-5789 | 143 | 143 | 386 | 367 | 1 |
| CPO-6556 | 268 | 268 | 286 | 267 | 1 |
| CPO-7081 | 64 | 64 | 155 | 136 | 1 |
| CPO-7240 | 45 | 45 | 122 | 103 | 1 |

**–ù–∞–±–ª—é–¥–µ–Ω–∏–µ:** TTM –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 19 –¥–Ω–µ–π, –∞ DevLT –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º.

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞

### 1. –¶–µ–ø–æ—á–∫–∞ –≤—ã–∑–æ–≤–æ–≤ –¥–ª—è DevLT

```
_calculate_task_metrics()
  ‚îî‚îÄ> _calculate_devlt(task.id, history)
       ‚îî‚îÄ> metrics_service.calculate_dev_lead_time(history)
            ‚îî‚îÄ> datetime.now(timezone.utc)  ‚ùå –í—Å–µ–≥–¥–∞ —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞!
```

### 2. –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞ –≤ –∫–æ–¥–µ

**–í `generate_ttm_details_report.py`:**

```python
# –°—Ç—Ä–æ–∫–∞ 722 –≤ _calculate_task_metrics():
"devlt": self._calculate_devlt(task.id, history),
# ‚ùå –ù–ï –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è as_of_date

# –°—Ç—Ä–æ–∫–∞ 413 –≤ _calculate_devlt():
return self.metrics_service.calculate_dev_lead_time(history)
# ‚ùå –ù–ï –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è as_of_date
```

**–í `metrics_service.py`:**

```python
# –°—Ç—Ä–æ–∫–∞ 693 –≤ calculate_dev_lead_time():
current_date = datetime.now(timezone.utc)
# ‚ùå –î–ª—è –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è as_of_date

# –°—Ç—Ä–æ–∫–∞ 771 –≤ calculate_dev_lead_time():
current_date = datetime.now(timezone.utc)
# ‚ùå –î–ª—è –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è as_of_date
```

### 3. –ü–æ—á–µ–º—É TTM —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ DevLT –Ω–µ—Ç

**TTM –¥–ª—è –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á:**
```python
# –í _calculate_task_metrics() —Å—Ç—Ä–æ–∫–∞ 699:
ttm = self._calculate_ttm_unfinished(history, done_statuses, as_of_date)
# ‚úÖ as_of_date –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
```

**DevLT –¥–ª—è –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á:**
```python
# –í _calculate_task_metrics() —Å—Ç—Ä–æ–∫–∞ 722:
"devlt": self._calculate_devlt(task.id, history),
# ‚ùå as_of_date –ù–ï –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è
```

## üìã –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–∏—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—É `_calculate_devlt()`

```python
# –ë—ã–ª–æ:
def _calculate_devlt(self, task_id: int, history: Optional[List] = None) -> Optional[int]:

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
def _calculate_devlt(
    self, task_id: int, history: Optional[List] = None, as_of_date: Optional[datetime] = None
) -> Optional[int]:
```

### 2. –ü–µ—Ä–µ–¥–∞—Ç—å as_of_date –≤ MetricsService

```python
# –ë—ã–ª–æ:
return self.metrics_service.calculate_dev_lead_time(history)

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
return self.metrics_service.calculate_dev_lead_time(history, as_of_date=as_of_date)
```

### 3. –û–±–Ω–æ–≤–∏—Ç—å –≤—ã–∑–æ–≤ –≤ _calculate_task_metrics()

```python
# –ë—ã–ª–æ:
"devlt": self._calculate_devlt(task.id, history),

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
"devlt": self._calculate_devlt(task.id, history, as_of_date),
```

### 4. –û–±–Ω–æ–≤–∏—Ç—å MetricsService.calculate_dev_lead_time()

```python
# –ë—ã–ª–æ (—Å—Ç—Ä–æ–∫–∏ 693, 771):
current_date = datetime.now(timezone.utc)

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
effective_date = as_of_date if as_of_date is not None else datetime.now(timezone.utc)
current_date = normalize_to_utc(effective_date)
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–î–ª—è –∑–∞–¥–∞—á —Å `–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞=1` –∏ –æ—Ç–∫—Ä—ã—Ç—ã–º —Å—Ç–∞—Ç—É—Å–æ–º "–ú–ü / –í —Ä–∞–±–æ—Ç–µ":
- DevLT –≤ –æ—Ç—á–µ—Ç–µ –Ω–∞ 2026-02-06 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ ~19 –¥–Ω–µ–π –±–æ–ª—å—à–µ, —á–µ–º –≤ –æ—Ç—á–µ—Ç–µ –Ω–∞ 2026-01-18
- –ü—Ä–∏–º–µ—Ä: CPO-5789 –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å DevLT ‚âà 162 –¥–Ω—è (143 + 19) –≤–º–µ—Å—Ç–æ 143

## üìä –ú–∞—Å—à—Ç–∞–± –ø—Ä–æ–±–ª–µ–º—ã

- –ó–∞—Ç—Ä–æ–Ω—É—Ç–æ: **23 –∏–∑ 24 –∑–∞–¥–∞—á** –∫–æ–º–∞–Ω–¥—ã "–ì–µ–æ –∏ —Å–µ—Ä–≤–∏—Å—ã" (95.8%)
- –í–µ—Ä–æ—è—Ç–Ω–æ –∑–∞—Ç—Ä–æ–Ω—É—Ç–æ: **–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á** –≤–æ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥–∞—Ö
- –í–ª–∏—è–µ—Ç –Ω–∞: —Ä–∞—Å—á–µ—Ç DevLT –¥–ª—è –≤—Å–µ—Ö –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ as-of-date

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `as_of_date` –≤ –º–µ—Ç–æ–¥—ã:
   - `_calculate_devlt()`
   - `MetricsService.calculate_dev_lead_time()`

2. –ó–∞–º–µ–Ω–∏—Ç—å `datetime.now()` –Ω–∞ `as_of_date` –≤ MetricsService –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ DevLT –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

3. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ DevLT —Å as_of_date

4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É (Tail, TTD Pause –∏ —Ç.–¥.)
